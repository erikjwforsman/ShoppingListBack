(this.webpackJsonpfront=this.webpackJsonpfront||[]).push([[0],{7:function(e,t,n){e.exports={testi:"AppStyles_testi__3VkJq",openListButton:"AppStyles_openListButton__3h67d",whenListOpenned:"AppStyles_whenListOpenned__SNOpw",closeListButton:"AppStyles_closeListButton__REcVy",editListButton:"AppStyles_editListButton__3v-nm",listanTausta:"AppStyles_listanTausta__33u8j",removeMany:"AppStyles_removeMany__24VH_",lisaaLista:"AppStyles_lisaaLista__3Autw",lisaaListainput:"AppStyles_lisaaListainput__2zPry",lisaaListaButtonLeft:"AppStyles_lisaaListaButtonLeft__3twYh",lisaaListaButtonRight:"AppStyles_lisaaListaButtonRight__18msC",testicredits:"AppStyles_testicredits__MGgnu",flexu:"AppStyles_flexu__3zeB1",singleItem:"AppStyles_singleItem__2Klx8",itemCartButton:"AppStyles_itemCartButton__mHSPu",itemInfoButton:"AppStyles_itemInfoButton__2ufEu",itemInfo:"AppStyles_itemInfo__dh1nC",tummanvihrea:"AppStyles_tummanvihrea__2v06Z",vaalenavihrea:"AppStyles_vaalenavihrea__3tNuN",credits:"AppStyles_credits__oSJdu",tummanKeltainen:"AppStyles_tummanKeltainen__DiBgI",tausta:"AppStyles_tausta__2IRMc",vaaleanharmaa:"AppStyles_vaaleanharmaa__1mv0G",forrest:"AppStyles_forrest__3ux9z",tin:"AppStyles_tin__1wXiV",coral:"AppStyles_coral__19mTP",crimson:"AppStyles_crimson__2V2X9"}},75:function(e,t,n){"use strict";n.r(t);var i,s,a,r,c,l,o,u,j,d,m,b=n(33),p=n(4),O=n(60),h=n.n(O),f=n(6),v=n(5),g=n(11),x=n.n(g),k=n(14),S=n(23),I=Object(v.gql)(i||(i=Object(S.a)(["\n  query findByUsername ($nameToSearch: String){\n    findUser(username:$nameToSearch){\n      username\n      id\n      userContacts{\n        id\n        username\n      }\n      user_shopping_lists{\n        listName\n        id\n      }\n    }\n  }\n\n"]))),_=Object(v.gql)(s||(s=Object(S.a)(["\n  query findSpecificList ($listId: String!){\n    findList(listId:$listId){\n      listName\n      id\n      items{\n        itemName\n        id\n        itemAmount\n        itemNote\n      }\n      listMembers{\n        username\n        id\n      }\n    }\n  }\n"]))),P=Object(v.gql)(a||(a=Object(S.a)(["\n  mutation addShoppingList($username: String!, $listName:String!){\n    addNewList(username: $username, listName:$listName){\n      listName\n    }\n  }\n"]))),N=Object(v.gql)(r||(r=Object(S.a)(["\n  mutation addListUser($listId:String!, $nameToAdd:String!){\n    addUserToList(listId:$listId, nameToAdd:$nameToAdd){\n      listName\n    }\n  }\n"]))),L=Object(v.gql)(c||(c=Object(S.a)(["\n  mutation removeListUser($listId:String!, $username:String!){\n    removeUserFromList(listId: $listId, username:$username){\n      listName\n    }\n  }\n"]))),y=Object(v.gql)(l||(l=Object(S.a)(["\n  mutation addItem($listId: String!,$itemName: String!, $itemAmount:String, $itemNote:String){\n    addItemToList(listId: $listId, itemName: $itemName, itemAmount: $itemAmount, itemNote:$itemNote){\n      itemName\n    }\n  }\n"]))),C=Object(v.gql)(o||(o=Object(S.a)(["\n  mutation editSelectedItem($itemId:String!,$itemName:String!, $itemAmount:String, $itemNote:String){\n    editItemOnList(itemId:$itemId, itemName:$itemName, itemAmount:$itemAmount, itemNote:$itemNote){\n      itemName\n    }\n  }\n"]))),w=Object(v.gql)(u||(u=Object(S.a)(["\n  mutation removeItem($listId:String!, $itemId:String!){\n    removeItemFromList(listId:$listId, itemId:$itemId){\n      itemName\n    }\n  }\n"]))),A=Object(v.gql)(j||(j=Object(S.a)(["\n  mutation removeMany($listId:String!, $itemIds:[String!]){\n    removeManyItems(listId: $listId, itemIds:$itemIds){\n      listName\n    }\n  }\n"]))),$=Object(v.gql)(d||(d=Object(S.a)(["\n  mutation removeList($listId:String!){\n    deleteList(listId:$listId){\n      listName\n    }\n  }\n"]))),B=Object(v.gql)(m||(m=Object(S.a)(["\n  mutation login($username: String!, $password: String!){\n    login(username: $username, password: $password){\n      value\n    }\n  }\n"]))),M=n(1),T=function(e){var t=e.setToken,n=e.setUser,i=Object(p.useState)(""),s=Object(f.a)(i,2),a=s[0],r=s[1],c=Object(p.useState)(""),l=Object(f.a)(c,2),o=l[0],u=l[1],j=Object(v.useMutation)(B),d=Object(f.a)(j,2),m=d[0],b=d[1];Object(p.useEffect)((function(){if(b.data){var e=b.data.login.value,i=a;t(e),n(i),localStorage.setItem("shopping_list-user-token",e),localStorage.setItem("user",i)}}),[b.data]);var O=function(){var e=Object(k.a)(x.a.mark((function e(t){return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.next=3,m({variables:{username:a,password:o}});case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(M.jsx)("div",{children:Object(M.jsxs)("form",{onSubmit:O,children:[Object(M.jsxs)("div",{children:["username ",Object(M.jsx)("input",{value:a,onChange:function(e){var t=e.target;return r(t.value)}})]}),Object(M.jsxs)("div",{children:["password ",Object(M.jsx)("input",{type:"password",value:o,onChange:function(e){var t=e.target;return u(t.value)}})]}),Object(M.jsx)("button",{type:"submit",children:"login"})]})})},q=function(e){var t=Object(p.useState)(!1),n=Object(f.a)(t,2),i=n[0],s=n[1],a=function(){s(!i)},r=e.contacts.map((function(e){return e.username}));console.log(r);return Object(M.jsx)("div",{children:i?Object(M.jsxs)("div",{children:[Object(M.jsx)("button",{onClick:a,children:"Pienenn\xe4"}),e.contacts.map((function(e){return Object(M.jsxs)("span",{children:[" ",e.username," "]},e.id)}))]}):Object(M.jsx)("div",{children:Object(M.jsx)("button",{onClick:a,children:"Kontaktit"})})})},Q=n(7),U=n.n(Q),V=function(e){var t=Object(v.useMutation)(C,{refetchQueries:[{query:_,variables:{listId:e.listId}}]}),n=Object(f.a)(t,1)[0],i=Object(v.useMutation)(w,{refetchQueries:[{query:_,variables:{listId:e.listId}}]}),s=Object(f.a)(i,1)[0],a=Object(p.useState)(null),r=Object(f.a)(a,2),c=r[0],l=r[1],o=Object(p.useState)(!1),u=Object(f.a)(o,2),j=u[0],d=u[1],m=function(){l(!c)},O=function(){d(!j),e.onCartCallback(e.item.id)};(function(){var t=Object(k.a)(x.a.mark((function t(){return x.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(null===e.hookItem||void 0===e.hookItem){t.next=4;break}return e.hookItem,t.next=4,n({variables:Object(b.a)({},e.hookItem)});case 4:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}})()();var h=function(){var t=Object(k.a)(x.a.mark((function t(n){return x.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,s({variables:{listId:e.curSender.id,itemId:e.item.id}});case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}();return Object(M.jsx)("div",{children:!0===e.open?Object(M.jsxs)("div",{children:[Object(M.jsxs)("div",{children:[e.item.itemName," ",e.item.itemAmount,Object(M.jsx)("button",{onClick:function(){h()},children:"Poista"}),Object(M.jsx)("button",{onClick:function(){e.selectPageProperties(e.item),e.selectSender(e.curSender),e.selectPage("editItem")},children:"Muokkaa"})]}),Object(M.jsx)("div",{children:e.item.itemNote})]}):e.item.itemNote?c?j?Object(M.jsx)("div",{className:U.a.singleItem,children:Object(M.jsxs)("div",{children:[Object(M.jsxs)("button",{className:U.a.itemCartButton,onClick:O,children:["- ",Object(M.jsxs)("s",{children:[e.item.itemName," ",e.item.itemAmount," "]}),Object(M.jsx)("br",{}),Object(M.jsx)("br",{}),e.item.itemNote]}),Object(M.jsx)("button",{className:U.a.itemInfoButton,onClick:m,children:"Sulje"})]})}):Object(M.jsx)("div",{className:U.a.singleItem,children:Object(M.jsxs)("div",{children:[Object(M.jsxs)("button",{className:U.a.itemCartButton,onClick:O,children:["+ ",e.item.itemName," ",e.item.itemAmount," ",Object(M.jsx)("br",{}),Object(M.jsx)("br",{}),e.item.itemNote]}),Object(M.jsx)("button",{className:U.a.itemInfoButton,onClick:m,children:"Sulje"})]})}):j?Object(M.jsxs)("div",{className:U.a.singleItem,children:[Object(M.jsxs)("button",{className:U.a.itemCartButton,onClick:O,children:["- ",Object(M.jsxs)("s",{children:[e.item.itemName," ",e.item.itemAmount]})]}),Object(M.jsx)("button",{className:U.a.itemInfoButton,onClick:m,children:"Tiedot"})]}):Object(M.jsxs)("div",{className:U.a.singleItem,children:[Object(M.jsxs)("button",{className:U.a.itemCartButton,onClick:O,children:["+ ",e.item.itemName," ",e.item.itemAmount]}),Object(M.jsx)("button",{className:U.a.itemInfoButton,onClick:m,children:"Tiedot"})]}):j?Object(M.jsx)("div",{className:U.a.singleItem,children:Object(M.jsxs)("button",{className:U.a.itemCartButton,onClick:O,children:["- ",Object(M.jsxs)("s",{children:[e.item.itemName," ",e.item.itemAmount]})]})}):Object(M.jsx)("div",{className:U.a.singleItem,children:Object(M.jsxs)("button",{className:U.a.itemCartButton,onClick:O,children:["+ ",e.item.itemName," ",e.item.itemAmount]})})})},E=function(e){var t=Object(v.useQuery)(_,{variables:{listId:e.listId}}),n=Object(p.useState)(null),i=Object(f.a)(n,2),s=i[0],a=i[1],r=Object(p.useState)(""),c=Object(f.a)(r,2),l=(c[0],c[1],Object(v.useMutation)(A,{refetchQueries:[{query:_,variables:{listId:e.listId}}]})),o=Object(f.a)(l,1)[0],u=Object(v.useMutation)(w,{refetchQueries:[{query:_,variables:{listId:e.listId}}]});Object(f.a)(u,1)[0];if(t.loading)return Object(M.jsx)("div",{children:"loading..."});var j=function(){a(!s)},d=[],m=t.data.findList.listMembers.map((function(e){return e.username})),b=function(e){d.includes(e)?d=d.filter((function(t){return t!==e})):d.push(e)},O=function(){var e=Object(k.a)(x.a.mark((function e(){return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(d.length<1)){e.next=4;break}window.alert("Et ole valinnut poistettavia tuotteita"),e.next=8;break;case 4:return e.next=6,o({variables:{listId:t.data.findList.id,itemIds:d}});case 6:d.length=0,console.log(d);case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();console.log(t.data.findList.items);return Object(M.jsx)("div",{children:s?Object(M.jsxs)("div",{children:[Object(M.jsxs)("div",{className:U.a.whenListOpenned,children:[Object(M.jsxs)("button",{className:U.a.closeListButton,onClick:j,children:[t.data.findList.listName," sulje"]}),Object(M.jsx)("button",{className:U.a.editListButton,onClick:function(){e.selectPageProperties(t.data.findList),e.selectPage("editShoppingList")},children:"Editoi listaa"}),Object(M.jsx)("br",{})]}),Object(M.jsxs)("div",{className:U.a.listanTausta,children:[Object(M.jsx)("div",{style:{marginLeft:5},children:m.length>1?Object(M.jsxs)("div",{children:["Listan k\xe4ytt\xe4j\xe4t:",m.map((function(e,t){return(t?", ":"")+e}))]}):null}),Object(M.jsx)("div",{style:{marginLeft:5},children:"\ud83d\uded2"}),t.data.findList.items.map((function(e){return Object(M.jsx)("div",{children:Object(M.jsx)(V,{item:e,onCartCallback:b})},e.id)}))]}),Object(M.jsx)("div",{className:U.a.whenListOpenned,children:Object(M.jsx)("button",{className:U.a.removeMany,onClick:function(){O()},children:"P\xe4ivit\xe4 poimitut tuottet"})})]}):Object(M.jsx)("div",{children:Object(M.jsxs)("button",{className:U.a.openListButton,onClick:j,children:[t.data.findList.listName," avaa"]})})})},H=function(e){var t=Object(p.useState)(null),n=Object(f.a)(t,2),i=n[0],s=n[1],a=Object(p.useState)(""),r=Object(f.a)(a,2),c=r[0],l=r[1],o=Object(v.useMutation)(P,{refetchQueries:[{query:I,variables:{nameToSearch:e.username}}]}),u=Object(f.a)(o,1)[0],j=function(){s(!i)},d=function(){var t=Object(k.a)(x.a.mark((function t(n){return x.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:c.length<2?window.alert("Listan nimen tulee olla v\xe4hint\xe4\xe4n kaksi merkki\xe4 pitk\xe4"):c.length>30?window.alert("Listan nimi ei voi olla yli 30 merkki\xe4 pitk\xe4"):(n.preventDefault(),console.log(e.username),console.log(c),u({variables:{username:e.username,listName:c}}),l(""));case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}();return i?Object(M.jsx)("div",{children:Object(M.jsxs)("form",{onSubmit:d,children:[Object(M.jsxs)("div",{className:U.a.lisaaListainput,children:["Listan nimi: ",Object(M.jsx)("input",{value:c,onChange:function(e){var t=e.target;return l(t.value)}})]}),Object(M.jsxs)("div",{className:U.a.lisaaListaButtons,children:[Object(M.jsx)("button",{className:U.a.lisaaListaButtonLeft,type:"submit",children:"Tallenna lista"}),Object(M.jsx)("button",{className:U.a.lisaaListaButtonRight,onClick:function(){return j()},children:"Peru lista"}),Object(M.jsx)("br",{})]})]})}):Object(M.jsx)("div",{children:Object(M.jsx)("button",{className:U.a.lisaaLista,onClick:function(){j(),l("")},children:"Lis\xe4\xe4 lista"})})},D=function(e){return Object(M.jsxs)("div",{children:[Object(M.jsxs)("div",{children:[Object(M.jsx)("br",{}),Object(M.jsx)("h3",{children:"Listasi:"}),e.shopping_lists.map((function(t){return Object(M.jsx)(E,{shoppingList:t,selectPage:e.selectPage,selectPageProperties:e.selectPageProperties,selectSender:e.selectSender,username:e.user,listId:t.id},t.id)}))]}),Object(M.jsx)("br",{}),Object(M.jsx)(H,{username:e.user})]})},R=function(e){var t=Object(p.useState)(null),n=Object(f.a)(t,2),i=n[0],s=n[1],a=Object(p.useState)(""),r=Object(f.a)(a,2),c=r[0],l=r[1],o=Object(p.useState)(""),u=Object(f.a)(o,2),j=u[0],d=u[1],m=Object(p.useState)(""),b=Object(f.a)(m,2),O=b[0],h=b[1],g=Object(v.useMutation)(y,{refetchQueries:[{query:_,variables:{listId:e.listId}}]}),S=Object(f.a)(g,1)[0],I=function(){s(!i)},P=function(){var t=Object(k.a)(x.a.mark((function t(n){return x.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n.preventDefault(),O.length>40?(console.log("Viestin tulee olla alle 40 merkki\xe4 pitk\xe4"),window.alert("Viestin tulee olla alle 40 merkki\xe4 pitk\xe4")):c.length>25?window.alert("Tuotteen nimen tulee olla alle 25 merkki\xe4 pitk\xe4"):j.length>15?window.alert("M\xe4\xe4r\xe4n tulee olla alle 15 merkki\xe4 pitk\xe4"):(console.log(e.listId),console.log(c),console.log(j),console.log(O),S({variables:{listId:e.listId,itemName:c,itemAmount:j,itemNote:O}}),l(""),d(""),h(""));case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}();return i?Object(M.jsxs)("div",{children:[Object(M.jsx)("button",{onClick:function(){I(),l(""),d(""),h("")},children:"Peru tuote"}),Object(M.jsx)("br",{}),Object(M.jsxs)("form",{onSubmit:P,children:[Object(M.jsxs)("div",{children:["Tuotteen nimi: ",Object(M.jsx)("input",{value:c,onChange:function(e){var t=e.target;return l(t.value)}})]}),Object(M.jsxs)("div",{children:["Tuotteen m\xe4\xe4r\xe4: ",Object(M.jsx)("input",{value:j,onChange:function(e){var t=e.target;return d(t.value)}})]}),Object(M.jsxs)("div",{children:["Lis\xe4tiedot: ",Object(M.jsx)("input",{value:O,onChange:function(e){var t=e.target;return h(t.value)}})]}),Object(M.jsx)("button",{children:"Lis\xe4\xe4 tuote listalle"})]})]}):Object(M.jsx)("div",{children:Object(M.jsx)("button",{onClick:function(){return I()},children:"Lis\xe4\xe4 tuotteita"})})},z=function(e){var t=Object(v.useQuery)(_,{variables:{listId:e.pageProperties.id}}),n=Object(v.useMutation)(N,{refetchQueries:[{query:_,variables:{listId:e.pageProperties.id}}]}),i=Object(f.a)(n,1)[0],s=Object(v.useMutation)(L,{refetchQueries:[{query:_,variables:{listId:e.pageProperties.id}}]}),a=Object(f.a)(s,1)[0];if(t.loading)return Object(M.jsx)("p",{children:"loading..."});console.log(e);var r=t.data.findList.listMembers.filter((function(t){return t.username!==e.user})),c=r.map((function(e){return e.username})),l=e.userContacts.filter((function(e){return!c.includes(e.username)})),o=e.pageProperties.id,u=function(){var e=Object(k.a)(x.a.mark((function e(t,n){return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,i({variables:{listId:t,nameToAdd:n}});case 2:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),j=function(){var e=Object(k.a)(x.a.mark((function e(t,n){return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a({variables:{listId:t,username:n}});case 2:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}();return Object(M.jsxs)("div",{children:["omat kontaktit: ",e.userContacts.map((function(e){return e.username}))," ",Object(M.jsx)("br",{}),"Poista listan nykyinen k\xe4ytt\xe4j\xe4: ",Object(M.jsx)("br",{}),r.map((function(e){return Object(M.jsx)("button",{onClick:function(){j(o,e.username)},children:e.username},e.id)})),Object(M.jsx)("br",{}),"Lis\xe4\xe4 listan k\xe4ytt\xe4j\xe4ksi: ",Object(M.jsx)("br",{}),l.map((function(e){return Object(M.jsx)("button",{onClick:function(){u(o,e.username)},children:e.username},e.id)})),Object(M.jsx)("br",{}),"T\xe4\xe4ll\xe4 voit editoida k\xe4ytt\xe4ji\xe4",Object(M.jsx)("button",{onClick:function(){e.selectPageProperties(e.pageProperties),e.selectPage("editShoppingList")},children:"Takaisin"})]})},J=function(e){var t=Object(v.useQuery)(_,{variables:{listId:e.pageProperties.id}});if(t.loading)return Object(M.jsx)("p",{children:"loading..."});var n=t.data.findList;return Object(M.jsxs)("div",{children:[Object(M.jsx)("button",{onClick:function(){e.selectPageProperties(null),e.selectPage("main")},children:"takaisin"}),Object(M.jsx)("br",{}),'T\xe4\xe4ll\xe4 voit editoida listaasi: "',n.listName,'"',Object(M.jsx)("br",{}),Object(M.jsxs)("div",{children:[Object(M.jsx)("button",{onClick:function(){e.selectPageProperties(n),e.selectPage("editListUsers")},children:"Muokkaa k\xe4ytt\xe4ji\xe4"}),Object(M.jsx)("button",{onClick:function(){e.selectPageProperties(n),e.selectPage("removeList")},children:"Poista lista"}),n.listMembers.length>1?Object(M.jsxs)("div",{children:["Listan k\xe4ytt\xe4j\xe4t: ",n.listMembers.map((function(e,t){return(t?", ":"")+e.username}))," "]}):Object(M.jsx)("div",{children:"listaa ei ole jaettu muille"})]}),Object(M.jsxs)("div",{children:["Listan tuotteet:",n.items.map((function(t){return Object(M.jsx)("div",{children:Object(M.jsx)(V,{item:t,open:!0,selectPage:e.selectPage,listId:e.pageProperties.id,selectPageProperties:e.selectPageProperties,curSender:n,selectSender:e.selectSender,hookItem:e.hookItem})},t.id)}))]}),Object(M.jsx)(R,{listId:e.pageProperties.id,username:e.username})]})},K=function(e){var t=Object(p.useState)(e.pageProperties.itemName),n=Object(f.a)(t,2),i=n[0],s=n[1],a=Object(p.useState)(null===e.pageProperties.itemAmount?"":e.pageProperties.itemAmount),r=Object(f.a)(a,2),c=r[0],l=r[1],o=Object(p.useState)(null===e.pageProperties.itemNote?"":e.pageProperties.itemNote),u=Object(f.a)(o,2),j=u[0],d=u[1],m=Object(v.useMutation)(C,{refetchQueries:[{query:_,variables:{listId:e.pageProperties.id}}]}),b=(Object(f.a)(m,1)[0],e.pageProperties),O=function(){var t=Object(k.a)(x.a.mark((function t(n){return x.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n.preventDefault(),j.length>40?(console.log("Viestin tulee olla alle 40 merkki\xe4 pitk\xe4"),window.alert("Viestin tulee olla alle 40 merkki\xe4 pitk\xe4")):i.length>25?window.alert("Tuotteen nimen tulee olla alle 25 merkki\xe4 pitk\xe4"):c.length>15?window.alert("M\xe4\xe4r\xe4n tulee olla alle 15 merkki\xe4 pitk\xe4"):(e.selectHookItem({itemId:b.id,itemName:i,itemNote:j,itemAmount:c}),e.selectPageProperties(e.sender),e.selectPage(h));case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),h="editShoppingList";return Object(M.jsxs)("div",{children:[Object(M.jsxs)("form",{onSubmit:O,children:[Object(M.jsxs)("div",{children:["Tuotteen nimi: ",Object(M.jsx)("input",{value:i,onChange:function(e){var t=e.target;return s(t.value)}})]}),Object(M.jsxs)("div",{children:["Tuotteen m\xe4\xe4r\xe4: ",Object(M.jsx)("input",{value:c,onChange:function(e){var t=e.target;return l(t.value)}})]}),Object(M.jsxs)("div",{children:["Lis\xe4tiedot: ",Object(M.jsx)("input",{value:j,onChange:function(e){var t=e.target;return d(t.value)}})]}),Object(M.jsx)("button",{children:"muuta"})]}),Object(M.jsx)("button",{onClick:function(){e.selectPageProperties(e.sender),e.selectPage(h)},children:"takaisin"})]})},F=function(e){var t=Object(v.useMutation)($),n=Object(f.a)(t,1)[0],i=e.pageProperties,s=function(){var e=Object(k.a)(x.a.mark((function e(){return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n({variables:{listId:i.id}});case 2:window.location.reload();case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(M.jsxs)("div",{children:["Haluatko varmasti poistaa listan ",i.listName,"?",Object(M.jsx)("br",{}),Object(M.jsx)("button",{onClick:function(){s()},children:"Poista"}),Object(M.jsx)("button",{onClick:function(){e.selectPageProperties(e.pageProperties),e.selectPage("editShoppingList")},children:"Peru poisto"})]})},G=function(){return Object(M.jsx)("div",{className:U.a.testicredits,children:"Erik Forsman 2021"})},X=function(){var e=Object(p.useState)(null),t=Object(f.a)(e,2),n=t[0],i=t[1],s=Object(p.useState)(null),a=Object(f.a)(s,2),r=a[0],c=a[1],l=Object(p.useState)("main"),o=Object(f.a)(l,2),u=o[0],j=o[1],d=Object(p.useState)(null),m=Object(f.a)(d,2),b=m[0],O=m[1],h=Object(p.useState)(null),g=Object(f.a)(h,2),x=g[0],k=g[1],S=Object(p.useState)(null),_=Object(f.a)(S,2),P=_[0],N=_[1],L=Object(v.useApolloClient)(),y=Object(v.useQuery)(I,{variables:{nameToSearch:r}});if(Object(p.useEffect)((function(){var e=localStorage.getItem("shopping_list-user-token"),t=localStorage.getItem("user");e&&i(e),t&&c(t)}),[]),y.loading)return Object(M.jsx)("p",{children:"loading..."});console.log(y.data);if(!n)return Object(M.jsxs)("div",{children:[Object(M.jsx)("h2",{children:"Login"}),Object(M.jsx)(T,{setToken:i,setUser:c})]});var C=function(){return"main"===u?Object(M.jsx)(D,{shopping_lists:w,contacts:A,id:y.data.findUser.id,user:r,selectPage:$,selectPageProperties:B,selectSender:Q}):"editShoppingList"===u?Object(M.jsx)(J,{selectPage:$,selectPageProperties:B,pageProperties:b,selectSender:Q,username:r,hookItem:P}):"editItem"===u?Object(M.jsx)(K,{selectPage:$,selectPageProperties:B,pageProperties:b,selectSender:Q,sender:x,username:r,selectHookItem:V}):"removeList"===u?Object(M.jsx)(F,{selectPage:$,selectPageProperties:B,pageProperties:b,selectSender:Q,sender:x,username:r}):"editListUsers"===u?Object(M.jsx)(z,{selectPage:$,pageProperties:b,selectPageProperties:B,userContacts:A,user:r}):void 0},w=y.data.findUser.user_shopping_lists,A=y.data.findUser.userContacts,$=function(e){j(e)},B=function(e){O(e)},Q=function(e){k(e)},V=function(e){N(e)};return Object(M.jsxs)("div",{children:[Object(M.jsxs)("div",{className:U.a.tin,children:[Object(M.jsxs)("h3",{children:[r,Object(M.jsx)("button",{onClick:function(){i(null),c(null),localStorage.clear(),L.resetStore()},children:"logout"})]}),Object(M.jsx)(q,{user:r,contacts:A})]}),Object(M.jsx)("div",{className:U.a.tausta,children:Object(M.jsx)(C,{})}),Object(M.jsx)("div",{children:Object(M.jsx)(G,{})})]})},Y=n(62),Z=Object(Y.a)((function(e,t){var n=t.headers,i=localStorage.getItem("shopping_list-user-token");return{headers:Object(b.a)(Object(b.a)({},n),{},{authorization:i?"bearer ".concat(i):null})}})),W=new v.HttpLink({uri:"http://localhost:4000/"}),ee=new v.ApolloClient({cache:new v.InMemoryCache,link:Z.concat(W)});h.a.render(Object(M.jsx)(v.ApolloProvider,{client:ee,children:Object(M.jsx)(X,{})}),document.getElementById("root"))}},[[75,1,2]]]);
//# sourceMappingURL=main.15f63b70.chunk.js.map