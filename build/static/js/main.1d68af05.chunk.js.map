{"version":3,"sources":["AppStyles.module.css","queries.js","components/LoginForm.js","components/Contacts.js","components/Item.js","components/ShoppingList.js","components/AddNewList.js","components/Main.js","components/AddNewItem.js","components/EditListUsers.js","components/EditShoppingList.js","components/EditItem.js","components/RemoveList.js","components/Credits.js","App.js","index.js"],"names":["module","exports","FIND_USER","gql","FIND_LIST","ADD_SHOPPINGLIST","ADD_USER_TO_LIST","REMOVE_USER_FROM_LIST","ADD_ITEM","EDIT_ITEM","REMOVE_ITEM","REMOVE_MANY","REMOVE_LIST","LOGIN","LoginForm","setToken","setUser","useState","username","setUsername","password","setPassword","useMutation","login","result","useEffect","data","token","value","user","localStorage","setItem","submit","event","a","preventDefault","variables","onSubmit","onChange","target","type","Contacts","props","expanded","setExpansion","toggleExpansion","listOfContacts","contacts","map","c","console","log","onClick","id","Item","refetchQueries","query","listId","editItem","removeItem","onCart","pickUp","togglePickUp","onCartCallback","item","hookItem","undefined","callBackEdit","finalizeRemoval","curSender","itemId","open","itemName","itemAmount","selectPageProperties","selectSender","selectPage","itemNote","className","styles","singleItem","itemCartButton","itemInfoButton","ShoppingList","resultList","useQuery","removeMany","loading","itemsToBeRemoved","listMembers","findList","m","includes","filter","push","removeItems","length","window","alert","itemIds","items","whenListOpenned","closeListButton","listName","editListButton","listanTausta","style","marginLeft","member","index","openListButton","AddNewList","setListName","nameToSearch","createList","lisaaListainput","lisaaListaButtons","lisaaListaButtonLeft","lisaaListaButtonRight","lisaaLista","Main","shopping_lists","l","shoppingList","AddNewItem","setItemName","setItemAmount","setItemNote","createItem","EditListUsers","pageProperties","addUser","removeUser","currentlyOnList","currentlyOnListNames","canBeAddToUsers","userContacts","u","senderList","addUserHere","nameToAdd","removeUserHere","v","EditShoppingList","listResult","EditItem","selectHookItem","sender","choosePage","RemoveList","removeList","listToBeRemoved","location","reload","Credits","testicredits","App","page","setPage","setPageProperties","setSender","setItemHook","client","useApolloClient","getItem","Choice","findUser","user_shopping_lists","paikka","uniikki","testi","asiaa","tin","clear","resetStore","tausta","authLink","setContext","_","headers","authorization","httpLink","HttpLink","uri","ApolloClient","cache","InMemoryCache","link","concat","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.1d68af05.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"testi\":\"AppStyles_testi__3VkJq\",\"openListButton\":\"AppStyles_openListButton__3h67d\",\"whenListOpenned\":\"AppStyles_whenListOpenned__SNOpw\",\"closeListButton\":\"AppStyles_closeListButton__REcVy\",\"editListButton\":\"AppStyles_editListButton__3v-nm\",\"listanTausta\":\"AppStyles_listanTausta__33u8j\",\"removeMany\":\"AppStyles_removeMany__24VH_\",\"lisaaLista\":\"AppStyles_lisaaLista__3Autw\",\"lisaaListainput\":\"AppStyles_lisaaListainput__2zPry\",\"lisaaListaButtonLeft\":\"AppStyles_lisaaListaButtonLeft__3twYh\",\"lisaaListaButtonRight\":\"AppStyles_lisaaListaButtonRight__18msC\",\"testicredits\":\"AppStyles_testicredits__MGgnu\",\"flexu\":\"AppStyles_flexu__3zeB1\",\"singleItem\":\"AppStyles_singleItem__2Klx8\",\"itemCartButton\":\"AppStyles_itemCartButton__mHSPu\",\"itemInfoButton\":\"AppStyles_itemInfoButton__2ufEu\",\"itemInfo\":\"AppStyles_itemInfo__dh1nC\",\"tummanvihrea\":\"AppStyles_tummanvihrea__2v06Z\",\"vaalenavihrea\":\"AppStyles_vaalenavihrea__3tNuN\",\"credits\":\"AppStyles_credits__oSJdu\",\"tummanKeltainen\":\"AppStyles_tummanKeltainen__DiBgI\",\"tausta\":\"AppStyles_tausta__2IRMc\",\"vaaleanharmaa\":\"AppStyles_vaaleanharmaa__1mv0G\",\"forrest\":\"AppStyles_forrest__3ux9z\",\"tin\":\"AppStyles_tin__1wXiV\",\"coral\":\"AppStyles_coral__19mTP\",\"crimson\":\"AppStyles_crimson__2V2X9\"};","import { gql } from \"@apollo/client\"\n\nexport const FIND_USER = gql`\n  query findByUsername ($nameToSearch: String){\n    findUser(username:$nameToSearch){\n      username\n      id\n      userContacts{\n        id\n        username\n      }\n      user_shopping_lists{\n        listName\n        id\n      }\n    }\n  }\n\n`\n\nexport const FIND_LIST = gql`\n  query findSpecificList ($listId: String!){\n    findList(listId:$listId){\n      listName\n      id\n      items{\n        itemName\n        id\n        itemAmount\n        itemNote\n      }\n      listMembers{\n        username\n        id\n      }\n    }\n  }\n`\n\nexport const ADD_SHOPPINGLIST = gql`\n  mutation addShoppingList($username: String!, $listName:String!){\n    addNewList(username: $username, listName:$listName){\n      listName\n    }\n  }\n`\n\nexport const ADD_USER_TO_LIST = gql`\n  mutation addListUser($listId:String!, $nameToAdd:String!){\n    addUserToList(listId:$listId, nameToAdd:$nameToAdd){\n      listName\n    }\n  }\n`\n\nexport const REMOVE_USER_FROM_LIST = gql`\n  mutation removeListUser($listId:String!, $username:String!){\n    removeUserFromList(listId: $listId, username:$username){\n      listName\n    }\n  }\n`\n\nexport const ADD_ITEM = gql`\n  mutation addItem($listId: String!,$itemName: String!, $itemAmount:String, $itemNote:String){\n    addItemToList(listId: $listId, itemName: $itemName, itemAmount: $itemAmount, itemNote:$itemNote){\n      itemName\n    }\n  }\n`\n\nexport const EDIT_ITEM = gql`\n  mutation editSelectedItem($itemId:String!,$itemName:String!, $itemAmount:String, $itemNote:String){\n    editItemOnList(itemId:$itemId, itemName:$itemName, itemAmount:$itemAmount, itemNote:$itemNote){\n      itemName\n    }\n  }\n`\n\nexport const REMOVE_ITEM = gql`\n  mutation removeItem($listId:String!, $itemId:String!){\n    removeItemFromList(listId:$listId, itemId:$itemId){\n      itemName\n    }\n  }\n`\n\nexport const REMOVE_MANY = gql`\n  mutation removeMany($listId:String!, $itemIds:[String!]){\n    removeManyItems(listId: $listId, itemIds:$itemIds){\n      listName\n    }\n  }\n`\nexport const REMOVE_LIST = gql`\n  mutation removeList($listId:String!){\n    deleteList(listId:$listId){\n      listName\n    }\n  }\n`\n\nexport const LOGIN = gql`\n  mutation login($username: String!, $password: String!){\n    login(username: $username, password: $password){\n      value\n    }\n  }\n`\n","import React, { useState, useEffect } from \"react\"\nimport { useMutation } from \"@apollo/client\"\n\nimport { LOGIN } from \"../queries\"\n\nconst LoginForm = ({ setToken, setUser }) => {\n  const [username, setUsername] = useState(\"\")\n  const [password, setPassword] = useState(\"\")\n\n  const [login, result] = useMutation(LOGIN)\n\n  useEffect(() => {\n    if(result.data) {\n      const token = result.data.login.value\n      const user = username\n      setToken(token)\n      setUser(user)\n      localStorage.setItem(\"shopping_list-user-token\", token)\n      localStorage.setItem(\"user\", user)\n    }\n  }, [result.data])\n\n  const submit = async (event) =>{\n    event.preventDefault()\n    await login({variables: {username, password} })\n  }\n\n  return (\n    <div>\n      <form onSubmit={submit}>\n        <div>\n          username <input\n            value={username}\n            onChange={({target}) => setUsername(target.value)}\n          />\n        </div>\n        <div>\n          password <input\n            type=\"password\"\n            value={password}\n            onChange={({target}) => setPassword(target.value)}\n          />\n        </div>\n        <button type=\"submit\">login</button>\n      </form>\n    </div>\n  )\n}\n\nexport default LoginForm\n","import React, {useState, useEffect} from \"react\"\n\nconst Contacts = (props) => {\n  const [expanded, setExpansion] = useState(false)\n\n  const toggleExpansion = () => {\n    setExpansion(!expanded)\n  }\n\n  const listOfContacts = props.contacts.map(c =>c.username)\n  console.log(listOfContacts)\n\n  const showContacts = () => {\n    if (expanded) {\n      return(\n        <div>\n          <button onClick={toggleExpansion}>Pienennä</button>\n          { props.contacts.map(c =><span key={c.id}> {c.username} </span>) }\n        </div>\n      )\n    }\n    return(<div>\n        <button onClick={toggleExpansion}>Kontaktit</button>\n      </div>)\n  }\n\n  return(\n    <div>{showContacts()}</div>\n  )\n}\n\nexport default Contacts\n","import React, {useState} from \"react\"\n//import RemoveItem from \"./RemoveItem\" Saa poistaa eriytetyn poistonäkymän\nimport {gql, useMutation} from \"@apollo/client\"\nimport {REMOVE_ITEM, FIND_USER, FIND_LIST, EDIT_ITEM} from \"../queries\"\n\nimport styles from \"../AppStyles.module.css\"\n//Väli poisto\n//  //  //  //  //\n// Korjaa poiston ongelma:\n// Cache data may be lost when replacing the items field of a Shopping_list object.\n//\n// To address this problem (which is not a bug in Apollo Client), define a custom merge function for the Shopping_list.items field, so InMemoryCache can safely merge these objects:\n//\n//   existing: [{\"__ref\":\"Item:60473d26a230ac235f2b76c9\"},{\"__ref\":\"Item:60474653a230ac235f2b76cb\"}]\n//   incoming: [{\"__ref\":\"Item:60473d26a230ac235f2b76c9\"}]\n//\n// For more information about these options, please refer to the documentation:\n//\n//   * Ensuring entity objects have IDs: https://go.apollo.dev/c/generating-unique-identifiers\n//   * Defining custom merge functions: https://go.apollo.dev/c/merging-non-normalized-objects\n//  //  //  //  //\n\nconst Item = (props) => {\n  const [editItem] = useMutation(EDIT_ITEM, {\n    refetchQueries:[{\n      query: FIND_LIST,\n      variables: {listId: props.listId}\n    }]\n  })\n\n  const [removeItem] = useMutation(REMOVE_ITEM,{\n    refetchQueries: [{\n      query: FIND_LIST,\n      variables: {listId: props.listId}\n    }]\n  })\n\n  const [expanded, setExpansion] = useState(null)\n  const [onCart, pickUp] = useState(false)\n\n  const toggleExpansion = () =>{\n    setExpansion(!expanded)\n  }\n\n  const togglePickUp = () => {\n    pickUp(!onCart)\n    props.onCartCallback(props.item.id)\n  }\n\n  const callBackEdit = async() => {\n    if (props.hookItem !== null && props.hookItem !== undefined){\n      const olio = props.hookItem\n      await editItem({ variables:{...props.hookItem} })\n    }\n  }\n  callBackEdit()\n\n  const finalizeRemoval = async(event) => {\n    await removeItem({ variables: {listId:props.curSender.id, itemId:props.item.id}})\n  }\n\n  const editPage = \"editItem\"\n  const removeItemPage = \"removeItem\"\n\n  const showItemDetails = () => {\n    if (props.open===true){\n      return  <div>\n                <div>{props.item.itemName} {props.item.itemAmount}\n                  <button onClick={() => {\n                    {finalizeRemoval()}\n                  }}>Poista</button>\n\n                  <button onClick={() =>{\n                    {props.selectPageProperties(props.item)}\n                    {props.selectSender(props.curSender)}\n                    {props.selectPage(editPage)}\n                    {}\n                  }}>Muokkaa</button>\n                </div>\n\n                <div>{props.item.itemNote}</div>\n              </div>\n    }\n\n    if (!props.item.itemNote){\n      if(onCart) {\n        return <div className={styles.singleItem}><button className={styles.itemCartButton} onClick={togglePickUp}>- <s>{props.item.itemName} {props.item.itemAmount}</s></button></div>\n      }\n      return (<div className={styles.singleItem}><button className={styles.itemCartButton} onClick={togglePickUp}>+ {props.item.itemName} {props.item.itemAmount}</button></div>)\n    }\n\n    if (!expanded){\n      if(onCart) {\n        return <div className={styles.singleItem}><button className={styles.itemCartButton} onClick={togglePickUp}>- <s>{props.item.itemName} {props.item.itemAmount}</s></button><button className={styles.itemInfoButton} onClick={toggleExpansion}>Tiedot</button></div>\n      }\n      return (<div className={styles.singleItem}><button className={styles.itemCartButton} onClick={togglePickUp}>+ {props.item.itemName} {props.item.itemAmount}</button><button className={styles.itemInfoButton} onClick={toggleExpansion}>Tiedot</button></div>)\n\n    } else {\n      if(onCart) {\n        return (\n          <div className={styles.singleItem}>\n            <div><button className={styles.itemCartButton} onClick={togglePickUp}>- <s>{props.item.itemName} {props.item.itemAmount} </s><br/><br/>{props.item.itemNote}</button><button className={styles.itemInfoButton} onClick={toggleExpansion}>Sulje</button></div>\n          </div>\n        )\n      }\n      return (\n        <div className={styles.singleItem}>\n          <div><button className={styles.itemCartButton} onClick={togglePickUp}>+ {props.item.itemName} {props.item.itemAmount} <br/><br/>{props.item.itemNote}</button><button className={styles.itemInfoButton} onClick={toggleExpansion}>Sulje</button></div>\n        </div>\n      )\n    }\n  }\n\n  return(\n    <div>{showItemDetails()}</div>\n  )\n}\nexport default Item\n","import React, {useState} from \"react\"\nimport Item from \"./Item\"\nimport {gql, useMutation, useQuery } from \"@apollo/client\"\nimport {FIND_LIST,REMOVE_MANY, REMOVE_ITEM, FIND_USER, } from \"../queries\"\nimport styles from \"../AppStyles.module.css\"\n\n\nconst ShoppingList = (props) => {\n\n  const resultList = useQuery(FIND_LIST,{\n    variables:{ listId: props.listId}\n  })\n\n  const [expanded, setExpansion] = useState(null)\n  const [page, setPage] = useState(\"\")\n\n  const [removeMany] = useMutation(REMOVE_MANY, {\n    refetchQueries:[\n      {\n        query: FIND_LIST,\n        variables: {listId: props.listId}\n      }\n    ]\n  })\n  const [removeItem] = useMutation(REMOVE_ITEM, {\n    refetchQueries:[\n      {\n        query: FIND_LIST,\n        variables: {listId: props.listId}\n      }\n    ]\n  })\n\n\n{/* Korjaa tämä jossain vaiheessa\n\n  Cache data may be lost when replacing the items field of a Shopping_list object.\n\nTo address this problem (which is not a bug in Apollo Client), define a custom merge function for the Shopping_list.items field, so InMemoryCache can safely merge these objects:\n\n  existing: [{\"__ref\":\"Item:60435cd94ec7a9839e653f0a\"},{\"__ref\":\"Item:604363394ec7a9839e653f0f\"}]\n  incoming: [{\"__ref\":\"Item:604363394ec7a9839e653f0f\"}]\n\nFor more information about these options, please refer to the documentation:\n\n  * Ensuring entity objects have IDs: https://go.apollo.dev/c/generating-unique-identifiers\n  * Defining custom merge functions: https://go.apollo.dev/c/merging-non-normalized-objects\n  */}\n\n  if (resultList.loading){\n    return <div>loading...</div>\n  }\n\n\n  const toggleExpansion = () => {\n    setExpansion(!expanded)\n  }\n\n  let itemsToBeRemoved = []\n  const listMembers = resultList.data.findList.listMembers.map(m => m.username)\n\n  const onCartCallback = (itemId) => {\n    if (!itemsToBeRemoved.includes(itemId)){\n      itemsToBeRemoved.push(itemId)\n    } else {\n      itemsToBeRemoved = itemsToBeRemoved.filter(item => item !== itemId)\n    }\n  }\n\n  const removeItems = async() => {\n    //Tässä bugi, korjaa jossain vaiheessa // KORJATTU\n    //Eli rivin 101 id ei vissiin ehdi mukaan\n    //aiheutuu kun automaattinen refetch pärähtää ennen viimeisen poistoa => Tuo REMOVE_MANY?\n    if (itemsToBeRemoved.length<1) {\n      window.alert(\"Et ole valinnut poistettavia tuotteita\")\n    } else {\n\n      await removeMany({variables: {listId: resultList.data.findList.id, itemIds: itemsToBeRemoved}})\n      itemsToBeRemoved.length = 0\n      console.log(itemsToBeRemoved)\n    }\n  }\n\n\n  const siirtymä = \"editShoppingList\"\n\n  console.log(resultList.data.findList.items)\n\n  const showItems = () => {\n\n\n\n    if (expanded){\n      return (\n        <div>\n        {/* Tyyli: avattu lista yläpuolikas */}\n        <div className={styles.whenListOpenned}>\n        <button className={styles.closeListButton} onClick={toggleExpansion}>{resultList.data.findList.listName} sulje</button>\n        <button className={styles.editListButton} onClick={() =>{\n          {props.selectPageProperties(resultList.data.findList)}\n          {props.selectPage(siirtymä)}\n        }}>Editoi</button><br/>\n        </div>\n\n        {/* Tyyli: avattu lista alapuolikas\n          Listan käyttäjät mihin???\n          */}\n        <div className={styles.listanTausta}>\n        <div style={{marginLeft:5}}>\n          {\n            listMembers.length >1 ?\n            <div>Listan käyttäjät:\n              {listMembers.map((member, index) => ( (index ? ', ': '') + member ))}\n            </div>\n            : null\n          }\n        </div>\n        <div style={{marginLeft:5}}>\n          &#x1F6D2;\n        </div>\n        {resultList.data.findList.items.map( item =>\n          <div key={item.id}>\n            <Item item={item} onCartCallback={onCartCallback} />\n          </div>\n        )}\n        </div>\n\n        {/* Tyyli: poista useita listalta */}\n        <div className={styles.whenListOpenned}>\n        <button className={styles.removeMany} onClick={()=>{removeItems()}}>Päivitä poimitut tuottet</button>\n        </div>\n        </div>\n      )\n    }\n    return (\n      <div >\n         <button className={styles.openListButton} onClick={toggleExpansion}>{resultList.data.findList.listName} avaa</button>\n      </div>\n    )\n  }\n\n  return(\n    <div>{showItems()}</div>\n  )\n}\n\nexport default ShoppingList\n","import React, {useState} from \"react\"\nimport {gql, useMutation, useQuery} from \"@apollo/client\"\nimport {ADD_SHOPPINGLIST, FIND_USER} from \"../queries\"\n\nimport styles from \"../AppStyles.module.css\"\n\nconst AddNewList = (props) => {\n  const [expanded, setExpansion] = useState(null)\n  const [listName, setListName] = useState(\"\")\n  const [createList] =useMutation(ADD_SHOPPINGLIST,{\n    refetchQueries: [{\n      query: FIND_USER,\n      variables: {nameToSearch: props.username}\n    }]\n  })\n\n  const toggleExpansion = () => {\n    setExpansion(!expanded)\n  }\n\n  const submit = async(event) => {\n    if (listName.length < 2){\n      window.alert(\"Listan nimen tulee olla vähintään kaksi merkkiä pitkä\")\n      //Tee oma showMessage tyyppinen ratkaisu ja estä reload\n    } else if (listName.length>30) {\n      window.alert(\"Listan nimi ei voi olla yli 30 merkkiä pitkä\")\n\n    }\n    else {\n      event.preventDefault()\n      console.log(props.username)\n      console.log(listName)\n      createList({ variables:{ username: props.username, listName} } )\n      setListName(\"\")\n    }\n\n  }\n\n  if (!expanded){\n    return (\n      <div>\n        <button className={styles.lisaaLista} onClick={() => {\n          toggleExpansion()\n          setListName(\"\")\n        }}>Lisää lista</button>\n      </div>)\n  }\n\n  return(\n    <div>\n      <form onSubmit = {submit} >\n        <div className={styles.lisaaListainput}>\n          Listan nimi: <input value={listName}\n            onChange ={ ({target}) => setListName(target.value) }\n          />\n        </div>\n        <div className={styles.lisaaListaButtons}>\n        <button className={styles.lisaaListaButtonLeft} type=\"submit\">Tallenna lista</button>\n        <button className={styles.lisaaListaButtonRight} onClick={() => toggleExpansion() }>Peru lista</button><br/>\n        </div>\n      </form>\n    </div>\n\n  )\n}\n\nexport default AddNewList\n","import React, {useState, useEffect} from \"react\"\nimport { gql, useQuery,useApolloClient } from \"@apollo/client\"\nimport Contacts from \"./Contacts\"\nimport ShoppingList from \"./ShoppingList\"\nimport AddNewList from \"./AddNewList\"\n\n\nconst Main = (props) => {\n  return(\n    <div>\n      <div>\n\n        <br/>\n        <h3>Listasi:</h3>\n        {props.shopping_lists.map(l =>\n          <ShoppingList key={l.id} shoppingList={l} selectPage={props.selectPage} selectPageProperties={props.selectPageProperties} selectSender={props.selectSender} username={props.user} listId={l.id}/>\n        )}\n      </div>\n      <br/>\n      <AddNewList username={props.user}/>\n    </div>\n  )\n}\n\n\nexport default Main\n","import React, {useState} from \"react\"\nimport {gql, useMutation} from \"@apollo/client\"\nimport {ADD_ITEM, FIND_USER, FIND_LIST} from \"../queries\"\n\nconst AddNewItem = (props) => {\n  const [expanded, setExpansion] = useState(null)\n  const [itemName, setItemName] = useState(\"\")\n  const [itemAmount, setItemAmount] = useState(\"\")\n  const [itemNote, setItemNote] = useState(\"\")\n  const [createItem] = useMutation(ADD_ITEM, {\n   refetchQueries: [{\n      query: FIND_LIST,\n      variables: {listId: props.listId}\n    }]\n  })\n\n  const toggleExpansion = () => {\n    setExpansion(!expanded)\n  }\n\n  const submit = async(event) => {\n    event.preventDefault()\n    if (itemNote.length>40){\n      console.log(\"Viestin tulee olla alle 40 merkkiä pitkä\")\n      window.alert(\"Viestin tulee olla alle 40 merkkiä pitkä\")\n    } else if (itemName.length>25) {\n      window.alert(\"Tuotteen nimen tulee olla alle 25 merkkiä pitkä\")\n    } else if (itemAmount.length>15) {\n      window.alert(\"Määrän tulee olla alle 15 merkkiä pitkä\")\n    } else {\n      console.log(props.listId)\n      console.log(itemName)\n      console.log(itemAmount)\n      console.log(itemNote)\n      createItem({ variables: { listId: props.listId, itemName, itemAmount, itemNote }})\n      setItemName(\"\")\n      setItemAmount(\"\")\n      setItemNote(\"\")\n    }\n  }\n\n  if(!expanded){\n    return (\n      <div>\n        <button onClick={() => toggleExpansion()}>Lisää tuotteita</button>\n      </div>\n    )\n  }\n  return (\n    <div>\n      <button onClick={() => {\n        toggleExpansion()\n        setItemName(\"\")\n        setItemAmount(\"\")\n        setItemNote(\"\")\n      }}>Peru tuote</button><br/>\n      <form onSubmit={submit}>\n        <div>\n          Tuotteen nimi: <input value={itemName}\n            onChange={ ({target}) => setItemName(target.value) }\n          />\n        </div>\n        <div>\n          Tuotteen määrä: <input value ={itemAmount}\n            onChange={({target})=> setItemAmount(target.value)}\n          />\n        </div>\n        <div>\n          Lisätiedot: <input value={itemNote}\n            onChange={ ({target})=> setItemNote(target.value)}\n          />\n        </div>\n        <button>Lisää tuote listalle</button>\n      </form>\n    </div>\n  )\n}\n\nexport default AddNewItem\n","import React from \"react\"\nimport {gql, useQuery, useMutation} from \"@apollo/client\"\nimport {FIND_LIST, ADD_USER_TO_LIST, REMOVE_USER_FROM_LIST} from \"../queries\"\n\nconst EditListUsers = (props) => {\n  const result = useQuery(FIND_LIST, {variables: {listId:props.pageProperties.id}})\n\n  const [addUser] = useMutation(ADD_USER_TO_LIST,{\n    refetchQueries: [{\n      query:FIND_LIST,\n      variables: {listId:props.pageProperties.id}\n    }]\n  })\n  const [removeUser] = useMutation(REMOVE_USER_FROM_LIST, {\n    refetchQueries: [{\n      query:FIND_LIST,\n      variables: {listId:props.pageProperties.id}\n    }]\n  })\n\n  if(result.loading){\n    return <p>loading...</p>\n  }\n\n{/* Sama haaste poistossa\n  Cache data may be lost when replacing the listMembers field of a Shopping_list object.\n\nTo address this problem (which is not a bug in Apollo Client), define a custom merge function for the Shopping_list.listMembers field, so InMemoryCache can safely merge these objects:\n\n  existing: [{\"__ref\":\"User:604355bd4ec7a9839e653ef4\"},{\"__ref\":\"User:6049e3d1846ff62c1aa82939\"}]\n  incoming: [{\"__ref\":\"User:604355bd4ec7a9839e653ef4\"}]\n\nFor more information about these options, please refer to the documentation:\n\n  * Ensuring entity objects have IDs: https://go.apollo.dev/c/generating-unique-identifiers\n  * Defining custom merge functions: https://go.apollo.dev/c/merging-non-normalized-objects\n\n  */}\n  console.log(props)\n  const currentlyOnList = result.data.findList.listMembers.filter(m => m.username !== props.user)\n  const currentlyOnListNames = currentlyOnList.map(m => m.username)\n\n  const possibleUsers=(props.userContacts)\n  const canBeAddToUsers=possibleUsers.filter(u => !currentlyOnListNames.includes(u.username))\n  const senderList = props.pageProperties.id\n\n  const addUserHere = async (listId, username) => {\n    await addUser({variables: {listId: listId, nameToAdd:username}})\n  }\n\n  const removeUserHere = async (listId, username) => {\n    await removeUser({variables: {listId: listId, username:username}})\n  }\n\n  const choosePage = \"editShoppingList\"\n\n  return(\n    <div>\n    omat kontaktit: {props.userContacts.map(u => u.username)} <br/>\n\n    Poista listan nykyinen käyttäjä: <br/>{currentlyOnList.map(v => <button key={v.id} onClick={()=>{\n      removeUserHere(senderList, v.username)\n    }}>{v.username}</button>)}<br/>\n\n    Lisää listan käyttäjäksi: <br/>{canBeAddToUsers.map(c => <button key={c.id} onClick={()=>{\n      addUserHere(senderList, c.username)\n    }}>{c.username}</button>)}<br/>\n\n      Täällä voit editoida käyttäjiä\n      <button onClick={()=>{\n        props.selectPageProperties(props.pageProperties)\n        props.selectPage(choosePage)\n      }}>Takaisin</button>\n    </div>\n  )\n}\n\nexport default EditListUsers\n","import React from \"react\"\nimport Item from \"./Item\"\nimport AddNewItem from \"./AddNewItem\"\nimport EditListUsers from \"./EditListUsers\"\nimport {gql, useQuery, useMutation} from \"@apollo/client\"\nimport {FIND_LIST, REMOVE_ITEM} from \"../queries\"\n\n\nconst EditShoppingList = (props) => {\n\n  const listResult = useQuery(FIND_LIST,{\n    variables:{ listId: props.pageProperties.id}\n  })\n\n  if(listResult.loading){\n    return <p>loading...</p>\n  }\n\n  const callBackRemove = () => {\n    console.log(\"callback poisto\")\n  }\n\n  const koti = \"main\"\n  const removeList = \"removeList\"\n  const editListUsers = \"editListUsers\"\n  const shoppingList = listResult.data.findList\n\n  return (\n    <div>\n      <button onClick={()=>{\n        {props.selectPageProperties(null)}\n        {props.selectPage(koti)}\n      }}>takaisin</button><br/>\n\n      Täällä voit editoida listaasi: \"{shoppingList.listName}\"<br/>\n\n      <div>\n        <button onClick={()=>{\n          {props.selectPageProperties(shoppingList)}\n          {props.selectPage(editListUsers)}\n        }}>Muokkaa käyttäjiä</button>\n\n        <button onClick={()=>{\n          {props.selectPageProperties(shoppingList)}\n          {props.selectPage(removeList)}\n        }}>Poista lista</button>\n\n        {\n          shoppingList.listMembers.length >1 ?\n          <div>Listan käyttäjät: {shoppingList.listMembers.map((member, index) => ( (index ? ', ': '') + member.username ))} </div>\n          : <div>listaa ei ole jaettu muille</div>\n        }\n      </div>\n\n      <div>\n        Listan tuotteet:\n        {shoppingList.items.map( item =>\n          <div key={item.id}>\n            <Item item={item} open={true} selectPage={props.selectPage} listId={props.pageProperties.id} selectPageProperties={props.selectPageProperties} curSender={shoppingList} selectSender={props.selectSender} hookItem={props.hookItem} />\n          </div>\n        )}\n      </div>\n      <AddNewItem listId={props.pageProperties.id} username={props.username}/>\n    </div>\n  )\n}\n\nexport default EditShoppingList\n","import React, {useState} from \"react\"\nimport {gql, useMutation} from \"@apollo/client\"\nimport {EDIT_ITEM, FIND_LIST} from \"../queries\"\n\nconst EditItem = (props) => {\n  const [itemName, setItemName] = useState(props.pageProperties.itemName)\n  const [itemAmount, setItemAmount] = useState(props.pageProperties.itemAmount === null ? \"\" : props.pageProperties.itemAmount)\n  const [itemNote, setItemNote] = useState(props.pageProperties.itemNote === null ? \"\" : props.pageProperties.itemNote)\n\n  const [changeItem] = useMutation(EDIT_ITEM, {\n    refetchQueries: [{\n      query: FIND_LIST,\n      variables: {listId: props.pageProperties.id}\n    }]\n  })\n\n  const item = props.pageProperties\n\n  const submit = async(event) => {\n    event.preventDefault()\n    if (itemNote.length>40){\n      console.log(\"Viestin tulee olla alle 40 merkkiä pitkä\")\n      window.alert(\"Viestin tulee olla alle 40 merkkiä pitkä\")\n    } else if (itemName.length>25) {\n      window.alert(\"Tuotteen nimen tulee olla alle 25 merkkiä pitkä\")\n    } else if (itemAmount.length>15) {\n      window.alert(\"Määrän tulee olla alle 15 merkkiä pitkä\")\n    }\n\n    else {\n    props.selectHookItem({itemId:item.id ,itemName, itemNote, itemAmount})\n    props.selectPageProperties(props.sender)\n    props.selectPage(choosePage)\n    }\n  }\n\n  const choosePage = \"editShoppingList\"\n\n  return (\n    <div>\n      <form onSubmit={submit}>\n        <div>\n          Tuotteen nimi: <input value={itemName}\n            onChange={ ({target}) => setItemName(target.value) }\n          />\n        </div>\n        <div>\n          Tuotteen määrä: <input value={itemAmount}\n            onChange={({target})=> setItemAmount(target.value)}\n          />\n        </div>\n        <div>\n          Lisätiedot: <input value={itemNote}\n            onChange={ ({target}) => setItemNote(target.value)}\n          />\n        </div>\n        <button>muuta</button>\n      </form>\n      <button onClick={()=>{\n        {props.selectPageProperties(props.sender)}\n        {props.selectPage(choosePage)}\n      }}>takaisin</button>\n    </div>\n  )\n}\n\nexport default EditItem\n","import React from \"react\"\nimport {gql, useMutation} from \"@apollo/client\"\nimport {REMOVE_LIST} from \"../queries\"\n\nconst RemoveList = (props) => {\n  const [removeList] = useMutation(REMOVE_LIST)\n\n  const listToBeRemoved = props.pageProperties\n\n  const finalizeRemoval = async() => {\n    await removeList({ variables:{listId:listToBeRemoved.id} })\n    window.location.reload()\n  }\n\n  const returnTo=\"editShoppingList\"\n\n  return(\n    <div>\n      Haluatko varmasti poistaa listan {listToBeRemoved.listName}?<br/>\n      <button onClick={() => {\n        {finalizeRemoval()}\n      }}\n      >Poista</button>\n\n      <button onClick={()=>{\n        {props.selectPageProperties(props.pageProperties)}\n        {props.selectPage(returnTo)}\n      }}\n      >Peru poisto</button>\n    </div>\n  )\n}\nexport default RemoveList\n","import React from \"react\"\nimport styles from \"../AppStyles.module.css\"\n\n\nconst Credits = () => {\n  return <div className={styles.testicredits} >Erik Forsman 2021</div>\n}\n\nexport default Credits\n","import React, {useState, useEffect} from \"react\"\nimport { gql, useQuery,useApolloClient } from \"@apollo/client\"\nimport LoginForm from \"./components/LoginForm\"\nimport User from \"./components/User\"\nimport { FIND_USER } from \"./queries\"\n\nimport Main from \"./components/Main\"\nimport Contacts from \"./components/Contacts\"\nimport EditShoppingList from \"./components/EditShoppingList\"\nimport AddNewList from \"./components/AddNewList\"\nimport EditItem from \"./components/EditItem\"\nimport RemoveList from \"./components/RemoveList\"\nimport EditListUsers from \"./components/EditListUsers\"\nimport Credits from \"./components/Credits\"\n\n\nimport styles from \"./AppStyles.module.css\"\n\nconst App = () => {\n  const [token, setToken] = useState(null)\n  const [user, setUser] = useState(null)\n  const [page, setPage] = useState(\"main\")\n  const [pageProperties, setPageProperties] = useState(null)\n  const [sender, setSender] = useState(null)\n  const [hookItem, setItemHook] = useState(null)\n  const client = useApolloClient()\n\n  const result = useQuery(FIND_USER, {\n    variables: {nameToSearch: user},\n  }) //Lisää jossain vaiheessa pollaus\n\n  useEffect(() => {\n    const token = localStorage.getItem(\"shopping_list-user-token\")\n    const user = localStorage.getItem(\"user\")\n\n    if (token) {\n      setToken(token)\n    }\n    if (user) {\n      setUser(user)\n    }\n\n  }, [])\n\n  if(result.loading){\n    return <p>loading...</p>\n  }\n\n  console.log(result.data)\n\n  const logOut = () => {\n    setToken(null)\n    setUser(null)\n    localStorage.clear()\n    client.resetStore()\n  }\n\n  if (!token) {\n    return(\n      <div>\n        <h2>Login</h2>\n        <LoginForm setToken={setToken} setUser={setUser} />\n      </div>\n\n    )\n  }\n\n  const Choice = () => {\n    if (page === \"main\") return(<Main shopping_lists={shopping_lists} contacts={contacts} id={result.data.findUser.id} user={user} selectPage={selectPage} selectPageProperties={selectPageProperties} selectSender={selectSender}/>)\n\n    if (page === \"editShoppingList\") return (<EditShoppingList selectPage={selectPage} selectPageProperties={selectPageProperties} pageProperties={pageProperties} selectSender={selectSender} username={user} hookItem={hookItem} />)\n\n    if (page === \"editItem\") return (<EditItem selectPage={selectPage} selectPageProperties={selectPageProperties} pageProperties={pageProperties} selectSender={selectSender} sender={sender} username={user} selectHookItem={selectHookItem}/>)\n\n    if (page === \"removeList\") return (<RemoveList selectPage={selectPage} selectPageProperties={selectPageProperties} pageProperties={pageProperties} selectSender={selectSender} sender={sender} username={user}/>)\n\n    if (page === \"editListUsers\") return (<EditListUsers selectPage={selectPage} pageProperties={pageProperties} selectPageProperties={selectPageProperties} userContacts={contacts} user={user} />)\n  }\n\n  const shopping_lists = result.data.findUser.user_shopping_lists\n  const contacts = result.data.findUser.userContacts\n\n  const selectPage = (paikka) => {\n    setPage(paikka)\n  }\n\n  const selectPageProperties = (uniikki) => {\n    setPageProperties(uniikki)\n  }\n\n  const selectSender = (testi) => {\n    setSender(testi)\n  }\n\n  const selectHookItem = (asiaa) => {\n    setItemHook(asiaa)\n  }\n\n  //console.log(styles.testi)\n\n  return (\n    <div >\n    {/*Appin yläosan asetukset tänne*/}\n      <div className={styles.tin}>\n        <h3>{user}\n        <button onClick={logOut} >logout</button></h3>\n        <Contacts user={user} contacts={contacts}/>\n      </div>\n      {/*Appin pääosan taustaväri tänne*/}\n      <div className={styles.tausta}>\n        <Choice />\n      </div>\n      <div>\n        <Credits />\n      </div>\n    </div>\n  )\n}\n\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\n\nimport { ApolloClient, ApolloProvider, HttpLink, InMemoryCache, gql } from '@apollo/client'\nimport { setContext } from 'apollo-link-context'\n\nconst authLink = setContext((_, {headers}) => {\n  const token = localStorage.getItem(\"shopping_list-user-token\")\n  return {\n    headers: {\n      ...headers,\n      authorization: token ? `bearer ${token}` :null,\n    }\n  }\n})\n//Tästä Heroku? Pelkkä \"/\"?\n//const httpLink = new HttpLink({ uri: 'http://localhost:4000/' })\nconst httpLink = new HttpLink({ uri: '/' }) //\n//const httpLink = new HttpLink({ uri: 'https://quiet-plains-93370.herokuapp.com/' })\n\nconst client = new ApolloClient({\n  cache: new InMemoryCache(),\n  link: authLink.concat(httpLink)\n})\n\nReactDOM.render(\n  <ApolloProvider client={client}>\n    <App />\n    </ApolloProvider>,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}